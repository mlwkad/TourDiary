{"version":3,"file":"note-detail.js","sources":["pages/notes/note-detail.vue","../../uniapp/HBuilderX.4.64.2025042916/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvbm90ZXMvbm90ZS1kZXRhaWwudnVl"],"sourcesContent":["<template>\r\n    <view class=\"note-detail-container\">\r\n        <!-- 笔记内容 -->\r\n        <scroll-view scroll-y class=\"content-area\">\r\n            <view class=\"note-main\">\r\n                <view class=\"note-header\">\r\n                    <view class=\"note-title\">{{ note.title }}</view>\r\n                    <view class=\"note-meta\">\r\n                        <view class=\"note-location\" v-if=\"note.location\">\r\n                            <image class=\"location-icon\" src=\"/static/public/search.png\"></image>\r\n                            <text>{{ note.location }}</text>\r\n                        </view>\r\n                        <view class=\"note-date\">{{ note.date }}</view>\r\n                    </view>\r\n                </view>\r\n\r\n                <view class=\"note-content\">{{ note.content }}</view>\r\n\r\n                <view class=\"note-images\" v-if=\"note.images && note.images.length\">\r\n                    <image v-for=\"(img, index) in note.images\" :key=\"index\" :src=\"img\" mode=\"widthFix\"\r\n                        @click=\"previewImage(note.images, index)\" class=\"note-image\"></image>\r\n                </view>\r\n            </view>\r\n        </scroll-view>\r\n\r\n        <!-- 底部工具栏 -->\r\n        <view class=\"bottom-toolbar\">\r\n            <view class=\"toolbar-item\" @click=\"toggleFavorite\">\r\n                <image :src=\"note.isFavorite ? '/static/public/search.png' : '/static/public/search.png'\"\r\n                    mode=\"aspectFit\"></image>\r\n                <text>{{ note.isFavorite ? '已收藏' : '收藏' }}</text>\r\n            </view>\r\n            <view class=\"toolbar-item\" @click=\"shareNote\">\r\n                <image src=\"/static/public/search.png\" mode=\"aspectFit\"></image>\r\n                <text>分享</text>\r\n            </view>\r\n            <view class=\"toolbar-item\" @click=\"deleteNote\">\r\n                <image src=\"/static/public/close.png\" mode=\"aspectFit\"></image>\r\n                <text>删除</text>\r\n            </view>\r\n            <view class=\"toolbar-item\" @click=\"editNote\">\r\n                <image src=\"/static/public/change.png\" mode=\"aspectFit\"></image>\r\n                <text>编辑</text>\r\n            </view>\r\n        </view>\r\n    </view>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { ref, reactive, onMounted } from 'vue';\r\nimport { onLoad } from '@dcloudio/uni-app';\r\n\r\n// 笔记数据\r\nconst note = reactive({\r\n    id: '',\r\n    title: '',\r\n    content: '',\r\n    location: '',\r\n    date: '',\r\n    isFavorite: false,\r\n    images: [] as string[]\r\n});\r\n\r\n// 获取笔记详情\r\nconst getNoteDetail = (id: string) => {\r\n    // 这里应该是从API获取数据，现在用模拟数据\r\n    setTimeout(() => {\r\n        Object.assign(note, {\r\n            id: id,\r\n            title: '桂林游记',\r\n            content: '今天游览了桂林的象鼻山和七星公园，风景如画，令人心旷神怡。象鼻山位于桂林市漓江与桃花江汇流处，因山形酷似一头伸鼻饮水的大象而得名，是桂林山水的标志性景观。\\n\\n七星公园是桂林最大的综合性公园，因园内有七座山峰，恰似北斗七星而得名。公园内有桂海碑林、七星岩、蛇山、华夏奇石馆、花桥、童子拜观音等景点。尤其是华夏奇石馆内的奇石，形态各异，令人叹为观止。\\n\\n漓江水清澈见底，两岸的喀斯特地貌景观壮观秀丽，船行其上，恍如画中。整个旅程给人一种身临仙境的感觉，不虚此行。',\r\n            location: '广西桂林',\r\n            date: '2023-10-15',\r\n            isFavorite: true,\r\n            images: ['/static/666.jpg', '/static/666.jpg', '/static/666.jpg']\r\n        });\r\n    }, 500);\r\n};\r\n\r\n// 编辑笔记\r\nconst editNote = () => {\r\n    uni.navigateTo({\r\n        url: `/pages/notes/note-edit?id=${note.id}`\r\n    });\r\n};\r\n\r\n// 切换收藏状态\r\nconst toggleFavorite = () => {\r\n    note.isFavorite = !note.isFavorite;\r\n    // 这里应该调用API更新收藏状态\r\n    uni.showToast({\r\n        title: note.isFavorite ? '已收藏' : '已取消收藏',\r\n        icon: 'success'\r\n    });\r\n};\r\n\r\n// 分享笔记\r\nconst shareNote = () => {\r\n    uni.showActionSheet({\r\n        itemList: ['分享到微信', '分享到朋友圈', '复制链接'],\r\n        success: (res) => {\r\n            uni.showToast({\r\n                title: '分享成功',\r\n                icon: 'success'\r\n            });\r\n        }\r\n    });\r\n};\r\n\r\n// 删除笔记\r\nconst deleteNote = () => {\r\n    uni.showModal({\r\n        title: '提示',\r\n        content: '确定要删除这个笔记吗？',\r\n        success: (res) => {\r\n            if (res.confirm) {\r\n                // 这里应该调用API删除笔记\r\n                uni.showToast({\r\n                    title: '已删除',\r\n                    icon: 'success'\r\n                });\r\n                setTimeout(() => {\r\n                    uni.navigateBack();\r\n                }, 1000);\r\n            }\r\n        }\r\n    });\r\n};\r\n\r\n// 预览图片\r\nconst previewImage = (images: string[], current: number) => {\r\n    uni.previewImage({\r\n        urls: images,\r\n        current: images[current]\r\n    });\r\n};\r\n\r\nonLoad((options) => {\r\n    if (options.id) {\r\n        getNoteDetail(options.id);\r\n    }\r\n});\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.note-detail-container {\r\n    width: 100%;\r\n    min-height: 100vh;\r\n    background-color: #f8f8f8;\r\n    display: flex;\r\n    flex-direction: column;\r\n\r\n    .content-area {\r\n        flex: 1;\r\n        padding: 30rpx;\r\n\r\n        .note-main {\r\n            background-color: #fff;\r\n            border-radius: 12rpx;\r\n            padding: 30rpx;\r\n            box-shadow: 0 2rpx 10rpx rgba(0, 0, 0, 0.05);\r\n\r\n            .note-header {\r\n                margin-bottom: 30rpx;\r\n\r\n                .note-title {\r\n                    font-size: 40rpx;\r\n                    font-weight: bold;\r\n                    color: #333;\r\n                    margin-bottom: 20rpx;\r\n                }\r\n\r\n                .note-meta {\r\n                    display: flex;\r\n                    justify-content: space-between;\r\n                    align-items: center;\r\n                    border-bottom: 1px solid #f0f0f0;\r\n                    padding-bottom: 20rpx;\r\n\r\n                    .note-location {\r\n                        display: flex;\r\n                        align-items: center;\r\n                        font-size: 26rpx;\r\n                        color: #999;\r\n\r\n                        .location-icon {\r\n                            width: 24rpx;\r\n                            height: 24rpx;\r\n                            margin-right: 6rpx;\r\n                        }\r\n                    }\r\n\r\n                    .note-date {\r\n                        font-size: 26rpx;\r\n                        color: #999;\r\n                    }\r\n                }\r\n            }\r\n\r\n            .note-content {\r\n                font-size: 30rpx;\r\n                color: #333;\r\n                line-height: 1.8;\r\n                margin-bottom: 30rpx;\r\n                white-space: pre-wrap;\r\n            }\r\n\r\n            .note-images {\r\n                display: flex;\r\n                flex-direction: column;\r\n                gap: 20rpx;\r\n\r\n                .note-image {\r\n                    width: 100%;\r\n                    border-radius: 8rpx;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    .bottom-toolbar {\r\n        display: flex;\r\n        height: 100rpx;\r\n        background-color: #fff;\r\n        border-top: 1rpx solid #f0f0f0;\r\n\r\n        .toolbar-item {\r\n            flex: 1;\r\n            display: flex;\r\n            flex-direction: column;\r\n            align-items: center;\r\n            justify-content: center;\r\n\r\n            image {\r\n                width: 40rpx;\r\n                height: 40rpx;\r\n                margin-bottom: 8rpx;\r\n            }\r\n\r\n            text {\r\n                font-size: 24rpx;\r\n                color: #666;\r\n            }\r\n        }\r\n    }\r\n}\r\n</style>","import MiniProgramPage from 'D:/uniappProject/旅游日记uniapp/pages/notes/note-detail.vue'\nwx.createPage(MiniProgramPage)"],"names":["reactive","uni","onLoad"],"mappings":";;;;;;AAqDA,UAAM,OAAOA,cAAAA,SAAS;AAAA,MAClB,IAAI;AAAA,MACJ,OAAO;AAAA,MACP,SAAS;AAAA,MACT,UAAU;AAAA,MACV,MAAM;AAAA,MACN,YAAY;AAAA,MACZ,QAAQ,CAAC;AAAA,IAAA,CACZ;AAGK,UAAA,gBAAgB,CAAC,OAAe;AAElC,iBAAW,MAAM;AACb,eAAO,OAAO,MAAM;AAAA,UAChB;AAAA,UACA,OAAO;AAAA,UACP,SAAS;AAAA,UACT,UAAU;AAAA,UACV,MAAM;AAAA,UACN,YAAY;AAAA,UACZ,QAAQ,CAAC,mBAAmB,mBAAmB,iBAAiB;AAAA,QAAA,CACnE;AAAA,SACF,GAAG;AAAA,IAAA;AAIV,UAAM,WAAW,MAAM;AACnBC,oBAAAA,MAAI,WAAW;AAAA,QACX,KAAK,6BAA6B,KAAK,EAAE;AAAA,MAAA,CAC5C;AAAA,IAAA;AAIL,UAAM,iBAAiB,MAAM;AACpB,WAAA,aAAa,CAAC,KAAK;AAExBA,oBAAAA,MAAI,UAAU;AAAA,QACV,OAAO,KAAK,aAAa,QAAQ;AAAA,QACjC,MAAM;AAAA,MAAA,CACT;AAAA,IAAA;AAIL,UAAM,YAAY,MAAM;AACpBA,oBAAAA,MAAI,gBAAgB;AAAA,QAChB,UAAU,CAAC,SAAS,UAAU,MAAM;AAAA,QACpC,SAAS,CAAC,QAAQ;AACdA,wBAAAA,MAAI,UAAU;AAAA,YACV,OAAO;AAAA,YACP,MAAM;AAAA,UAAA,CACT;AAAA,QACL;AAAA,MAAA,CACH;AAAA,IAAA;AAIL,UAAM,aAAa,MAAM;AACrBA,oBAAAA,MAAI,UAAU;AAAA,QACV,OAAO;AAAA,QACP,SAAS;AAAA,QACT,SAAS,CAAC,QAAQ;AACd,cAAI,IAAI,SAAS;AAEbA,0BAAAA,MAAI,UAAU;AAAA,cACV,OAAO;AAAA,cACP,MAAM;AAAA,YAAA,CACT;AACD,uBAAW,MAAM;AACbA,4BAAA,MAAI,aAAa;AAAA,eAClB,GAAI;AAAA,UACX;AAAA,QACJ;AAAA,MAAA,CACH;AAAA,IAAA;AAIC,UAAA,eAAe,CAAC,QAAkB,YAAoB;AACxDA,oBAAAA,MAAI,aAAa;AAAA,QACb,MAAM;AAAA,QACN,SAAS,OAAO,OAAO;AAAA,MAAA,CAC1B;AAAA,IAAA;AAGLC,kBAAA,OAAO,CAAC,YAAY;AAChB,UAAI,QAAQ,IAAI;AACZ,sBAAc,QAAQ,EAAE;AAAA,MAC5B;AAAA,IAAA,CACH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC5ID,GAAG,WAAW,eAAe;"}